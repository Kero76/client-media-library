{% extends "layout.html.twig" %}

{# Keywords from meta 'keyword' #}
{% block keywords %}homepage, media, client, rest-client{% endblock %}

{# Title of the page present on head markup #}
{% block title %}{{ media.title }}{% endblock %}

{# Body of the page #}
{% block content %}
    <section class="col-md-12 col-sm-12 col-xs-12">

        <div class="row">
            <aside class="col-md-4 col-sm-6 col-xs-12 main-information">
                {% if media.title is defined %}
                    <h2>{{ media.title }}</h2>
                {% endif %}
                <ul class="list-unstyled">
                    {% if media.originalTitle is defined %}
                        <li>Original Title : {{ media.originalTitle }}</li>
                    {% endif %}

                    {% if media.releaseDate is defined %}
                        {% if media.endDate is defined  %}
                            <li>Original Release : {{ media.releaseDate|localizeddate('long', 'none', global.request.locale) }} - {{ media.endDate|localizeddate('long', 'none', global.request.locale) }}</li>
                        {% else %}
                            <li>Original Release : {{ media.releaseDate|date('d F Y') }}</li>
                        {% endif %}
                    {% endif %}

                    {% if media.isbn is defined %}
                        <li>ISBN : {{ media.isbn }}</li>
                    {% endif %}

                    {% if media.nbPages is defined %}
                        <li>Pages : {{ media.nbPages}} pages</li>
                    {% endif %}

                    {% if media.currentVolume is defined and media.volumes is defined %}
                        <li>Volume : {{ media.currentVolume}} / {{ media.volumes }}</li>
                    {% endif %}

                    {% if media.multiplayers is defined %}
                        {% if media.multiplayers == true %}
                            <li>Multiplayers : Yes</li>
                        {% else %}
                            <li>Multiplayers : No</li>
                        {% endif %}
                    {% endif %}

                    {% if media.nbTracks is defined %}
                        <li>Number of Tracks : {{ media.nbTracks }} Tracks</li>
                    {% endif %}

                    {% if media.length is defined %}
                        <li>Length : {{ media.length|replace({'.' : ':'}) }}</li>
                    {% endif %}

                    {% if media.runtime is defined %}
                        <li>Runtime : {{ media.runtime }} Minutes</li>
                    {% endif %}

                    {% if media.averageEpisodeRuntime is defined %}
                        <li>Running time : {{ media.averageEpisodeRuntime }} Minutes</li>
                    {% endif %}

                    {% if media.numberOfEpisode is defined and media.maxEpisodes is defined %}
                        <li><abbr title="Number">No.</abbr> of Episode : {{ media.numberOfEpisode }} / {{ media.maxEpisodes }}</li>
                    {% endif %}

                    {% if media.currentSeason is defined and media.numberOfSeasons is defined %}
                        <li><abbr title="Number">No.</abbr> of seasons : {{ media.currentSeason }} / {{ media.numberOfSeasons }}</li>
                    {% endif %}

                    {% if media.languagesSpoken is defined %}
                        <li>Languages Spoken :
                            {% for l in media.languagesSpoken %}
                                {% if l == 'en' %}
                                    <span class="flag-icon flag-icon-gb"></span>
                                {% elseif l == 'ja' %}
                                    <span class="flag-icon flag-icon-jp"></span>
                                {% else %}
                                    <span class="flag-icon flag-icon-{{ l|lower }}"></span>
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}

                    {% if media.languages is defined %}
                        <li>Languages available :
                            {% for l in media.languages %}
                                {% if l == 'en' %}
                                    <span class="flag-icon flag-icon-gb"></span>
                                {% elseif l == 'ja' %}
                                    <span class="flag-icon flag-icon-jp"></span>
                                {% else %}
                                    <span class="flag-icon flag-icon-{{ l|lower }}"></span>
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}

                    {% if media.subtitles is defined and media.subtitles|length > 0 %}
                        <li>Subtitles :
                            {% for s in media.subtitles %}
                                {% if s == 'en' %}
                                    <span class="flag-icon flag-icon-gb"></span>
                                {% elseif s == 'ja' %}
                                    <span class="flag-icon flag-icon-jp"></span>
                                {% else %}
                                    <span class="flag-icon flag-icon-{{ s|lower }}"></span>
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}

                    {% if media.genres is defined %}
                        <li>Genres :
                            {% for g in media.genres %}
                                {% if loop.last %}
                                    {{ g|lower|capitalize|replace({'_' : ' '}) }}
                                {% else %}
                                    {{ g|lower|capitalize|replace({'_' : ' '}) }},
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}

                    {% if media.supports is defined %}
                        <li>Supports :
                            {% for s in media.supports %}
                                {% if loop.last %}
                                    {{ s|lower|capitalize|replace({'_' : ' '}) }}
                                {% else %}
                                    {{ s|lower|capitalize|replace({'_' : ' '}) }},
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}

                    {% if media.format is defined %}
                        <li>Format :{{ media.format|lower|capitalize }}</li>
                    {% endif %}

                    {% if media.platforms is defined %}
                        <li>Platforms :
                            {% for p in media.platforms %}
                                {% if loop.last %}
                                    {{ p|lower|capitalize|replace({'_' : ' '}) }}
                                {% else %}
                                    {{ p|lower|capitalize|replace({'_' : ' '}) }},
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}
                </ul>
            </aside>

            <article class="col-md-8 col-sm-6 col-xs-12">
                <h2>Synopsis</h2>
                {% if media.synopsis is defined and media.synopsis is not empty %}
                    <p>{{ media.synopsis }}</p>
                {% else %}
                    <p>No synopsis found.</p>
                {% endif %}

                {% if media.authors is defined %}
                    <h2>Authors</h2>
                    {% if media.authors is not empty %}
                        <p>
                        {% for person in media.authors %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No author found.</p>
                    {% endif %}
                {% endif %}

                {% if media.mainActors is defined %}
                    <h2>Main Actors</h2>
                    {% if media.mainActors is not empty %}
                        <p>
                         {% for person in media.mainActors %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No actors found.</p>
                    {% endif %}
                {% endif %}

                {% if media.publishers is defined %}
                    <h2>Publishers</h2>
                    {% if media.publishers is not empty %}
                        <p>
                        {% for company in media.publishers %}
                            {% if loop.last %}
                                {{ company.name }}
                            {% else %}
                                {{ company.name }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No publishers found.</p>
                    {% endif %}
                {% endif %}

                {% if media.illustrators is defined %}
                    <h2>Illustrators</h2>
                    {% if media.illustrators is not empty %}
                        <p>
                        {% for person in media.illustrators %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No illustrators found.</p>
                    {% endif %}
                {% endif %}

                {% if media.developers is defined %}
                    <h2>Developers</h2>
                    {% if media.developers is not empty %}
                        <p>
                        {% for company in media.developers %}
                            {% if loop.last %}
                                {{ company.name }}
                            {% else %}
                                {{ company.name }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No developers found.</p>
                    {% endif %}
                {% endif %}

                {% if media.labelRecords is defined %}
                    <h2>Label Records</h2>
                    {% if media.labelRecords is not empty %}
                        <p>
                        {% for company in media.labelRecords %}
                            {% if loop.last %}
                                {{ company.name }}
                            {% else %}
                                {{ company.name }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No label records found.</p>
                    {% endif %}
                {% endif %}

                {% if media.singers is defined %}
                    <h2>Singers or Bands</h2>
                    {% if media.singers is not empty %}
                        <p>
                        {% for person in media.singers %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No singer/band found.</p>
                    {% endif %}
                {% endif %}


                {% if media.producers is defined %}
                    <h2>Producers</h2>
                    {% if media.producers is not empty %}
                        <p>
                        {% for person in media.producers %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No producers found.</p>
                    {% endif %}
                {% endif %}

                {% if media.directors is defined %}
                    <h2>Directors</h2>
                    {% if media.directors is not empty %}
                        <p>
                        {% for person in media.directors %}
                            {% if loop.last %}
                                {{ person.firstName }} {{ person.lastName }}
                            {% else %}
                                {{ person.firstName }} {{ person.lastName }},
                            {% endif %}
                        {% endfor %}
                        </p>
                    {% else %}
                        <p>No directors found.</p>
                    {% endif %}
                {% endif %}
            </article>
        </div>
    </section>
{% endblock %}
